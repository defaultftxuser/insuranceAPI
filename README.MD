# Сервис Расчета Стоимости Страхования

Этот проект представляет REST API сервис для расчета стоимости страхования на основе типа груза и объявленной стоимости. Тарифы управляются через файл JSON или аналогичную структуру данных и хранятся в базе данных. Сервис поддерживает управление тарифами, логирование изменений через Kafka и разворачивается в Docker.

## Функционал

- **Расчет стоимости страхования**: Выполняет расчет по формуле `declared_value * rate` в зависимости от типа груза и даты.
- **Управление тарифами**:
  - Добавление новых тарифов.
  - Обновление существующих тарифов.
  - Удаление тарифов.
- **Логирование**:
  - Логирует изменения тарифов через Kafka батчами.
  - Логи содержат ID пользователя (если доступен), выполненное действие и время события.
- **Интеграция с базой данных**: Тарифы хранятся в реляционной базе данных.
- **Docker**: Сервис полностью контейнеризован для упрощения разворачивания.

---

## Технологии

- **Фреймворк**: FastAPI
- **База данных**: PostgreSQL (можно заменить на MySQL или SQLite)
- **ORM**: SQLAlchemy
- **Брокер сообщений**: Kafka
- **Контейнеризация**: Docker, Docker Compose

---

## Требования

1. Установленные **Docker** и **Docker Compose**.
2. `Python 3.12`

---

## Инструкции по установке

### 1. Клонирование репозитория

### 2. Прокинуть переменные окружения

### 3. docker compose up --build
